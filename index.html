<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <meta name="theme-color" content="#4A90D9">
  <meta name="description" content="Classical Kids Study Hub - A beautiful companion for Classical Conversations homeschool curriculum">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <title>Classical Kids Study Hub</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“š</text></svg>">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect fill='%234A90D9' width='100' height='100' rx='20'/><text y='.9em' x='10' font-size='80'>ğŸ“š</text></svg>">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="header">
    <div class="header-inner">
      <a href="index.html" class="logo"><div class="logo-icon">ğŸ“š</div><span>Classical Kids</span></a>
      <div class="lang-toggle">
        <button class="lang-btn active" data-lang="en" onclick="setLang('en')">EN</button>
        <button class="lang-btn" data-lang="es" onclick="setLang('es')">ES</button>
      </div>
      <nav class="header-nav">
        <a href="index.html" class="nav-link active"><span class="nav-link-icon">ğŸ </span> <span data-i18n="home">Home</span></a>
        <a href="essentials.html" class="nav-link"><span class="nav-link-icon">ğŸ“</span> Essentials</a>
        <a href="resources.html" class="nav-link"><span class="nav-link-icon">ğŸ“–</span> <span data-i18n="resources">Resources</span></a>
        <a href="classical_math.html" class="nav-link"><span class="nav-link-icon">ğŸ”¢</span> <span data-i18n="math">Math</span></a>
        <a href="dashboard.html" class="nav-link"><span class="nav-link-icon">ğŸ“Š</span> <span data-i18n="progress">Progress</span></a>
        <a href="parents-guide.html" class="nav-link"><span class="nav-link-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span> <span data-i18n="parents">Parents</span></a>
      </nav>
    </div>
  </header>

  <main class="main">
    <section id="welcomeSection" class="hero-section">
      <div class="hero-blob hero-blob-1"></div>
      <div class="hero-blob hero-blob-2"></div>
      <div class="hero-blob hero-blob-3"></div>
      <div class="hero-content">
        <div class="hero-icon">ğŸ“š</div>
        <h1 class="hero-title">Classical Kids</h1>
        <p class="hero-subtitle text-handwritten">"Train up a child in the way he should go..."</p>
        <div class="hero-verse">And these words that I command you today shall be on your heart. You shall teach them diligently to your children. <strong>â€” Deuteronomy 6:6-7</strong></div>
        <div class="login-card">
          <form id="loginForm">
            <div class="form-group">
              <label class="form-label" data-i18n="enterName">What's your name?</label>
              <input type="text" id="nameInput" class="form-input" placeholder="Enter your name..." required autocomplete="name">
            </div>
            <button type="submit" class="btn btn-primary btn-lg btn-block">Start Learning ğŸš€</button>
          </form>
        </div>
      </div>
    </section>

    <div id="appSection" class="hidden">
      <section id="homeScreen" class="container">
        <div class="text-center mb-xl">
          <h2><span data-i18n="welcomeBack">Welcome back</span>, <span id="userName">Student</span>! ğŸ‘‹</h2>
          <p class="text-muted" data-i18n="readyToExplore">Ready to explore today?</p>
        </div>
        <div id="continueCard" class="card card-interactive mb-xl hidden" onclick="continueLesson()">
          <div class="card-body" style="background: linear-gradient(135deg, var(--sky), var(--berry)); color: white; border-radius: var(--radius-lg);">
            <div style="display: flex; align-items: center; gap: var(--space-lg);">
              <div style="font-size: 3rem;">â–¶ï¸</div>
              <div style="flex: 1;">
                <div style="font-size: 0.75rem; opacity: 0.9; text-transform: uppercase;" data-i18n="continueWhere">Continue where you left off</div>
                <div style="font-family: var(--font-display); font-size: 1.25rem; margin-top: 4px;" id="continueTitle">Cycle 1 â€¢ Week 1</div>
                <div style="font-size: 0.9rem; opacity: 0.9;" id="continueTopic">History</div>
              </div>
              <div style="font-size: 2rem; opacity: 0.8;">â†’</div>
            </div>
          </div>
        </div>
        <h3 class="section-title" data-i18n="chooseCycle">ğŸ“š Choose Your Cycle</h3>
        <div class="cycle-grid" id="cycleGrid">
          <div class="cycle-card" data-cycle="1"><span class="cycle-icon">ğŸ›ï¸</span><div class="cycle-number">Cycle 1</div><div class="cycle-name" data-i18n="cycle1Name">Ancient History</div></div>
          <div class="cycle-card" data-cycle="2"><span class="cycle-icon">ğŸ°</span><div class="cycle-number">Cycle 2</div><div class="cycle-name" data-i18n="cycle2Name">Medieval â†’ Modern</div></div>
          <div class="cycle-card" data-cycle="3"><span class="cycle-icon">ğŸ—½</span><div class="cycle-number">Cycle 3</div><div class="cycle-name" data-i18n="cycle3Name">US History</div></div>
        </div>
        <div class="stats-cards mt-xl">
          <div class="stats-card highlight"><div class="stats-card-icon">â±ï¸</div><div class="stats-card-value" id="statMinutes">0</div><div class="stats-card-label" data-i18n="minutes">Minutes</div></div>
          <div class="stats-card success"><div class="stats-card-icon">ğŸ“š</div><div class="stats-card-value" id="statLessons">0</div><div class="stats-card-label" data-i18n="lessons">Lessons</div></div>
          <div class="stats-card warning"><div class="stats-card-icon">ğŸ”¥</div><div class="stats-card-value" id="statStreak">0</div><div class="stats-card-label" data-i18n="dayStreak">Day Streak</div></div>
        </div>
      </section>
      
      <section id="weekScreen" class="container hidden">
        <button class="btn btn-ghost mb-lg" onclick="showScreen('home')">â† Back to Cycles</button>
        <div class="text-center mb-xl"><h2 id="weekTitle">Cycle 1</h2><p class="text-muted">Select a week to begin</p></div>
        <div class="week-grid" id="weekGrid"></div>
      </section>
      
      <section id="lessonScreen" class="container hidden">
        <button class="btn btn-ghost mb-lg" onclick="showScreen('week')">â† Back to Weeks</button>
        <div class="topic-tabs-container">
          <div class="topic-tabs" id="topicTabs">
            <button class="topic-tab active" data-topic="history"><span class="topic-icon">ğŸ“œ</span><span>History</span></button>
            <button class="topic-tab" data-topic="science"><span class="topic-icon">ğŸ”¬</span><span>Science</span></button>
            <button class="topic-tab" data-topic="geography"><span class="topic-icon">ğŸŒ</span><span>Geography</span></button>
            <button class="topic-tab" data-topic="math"><span class="topic-icon">ğŸ”¢</span><span>Math</span></button>
            <button class="topic-tab" data-topic="english"><span class="topic-icon">ğŸ“</span><span>English</span></button>
            <button class="topic-tab" data-topic="latin"><span class="topic-icon">ğŸ“š</span><span>Latin</span></button>
            <button class="topic-tab" data-topic="finearts"><span class="topic-icon">ğŸ¨</span><span>Fine Arts</span></button>
          </div>
        </div>
        <div class="timer-card">
          <div class="timer-display" id="timerDisplay">15:00</div>
          <div class="timer-meta"><span id="timerCycle">Cycle 1</span> â€¢ <span id="timerWeek">Week 1</span></div>
          <div class="timer-controls">
            <button class="timer-btn" id="btnReset">ğŸ”„</button>
            <button class="timer-btn primary" id="btnPlayPause">â–¶ï¸</button>
            <button class="timer-btn" id="btnComplete">âœ“</button>
          </div>
        </div>
        <div class="lesson-card">
          <div class="lesson-header"><div class="lesson-meta" id="lessonMeta">Cycle 1 â€¢ Week 1</div><h2 class="lesson-title" id="lessonTitle"><span>ğŸ“œ</span> History</h2></div>
          <div class="lesson-body" id="lessonBody"><div class="loading"><div class="loading-spinner"></div></div></div>
        </div>
        <div class="homework-card" id="homeworkCard">
          <div class="homework-header" onclick="toggleHomework()"><div style="display:flex;align-items:center;gap:var(--space-sm);">ğŸ¨ <span>Creative Mission</span></div><span class="homework-toggle">â–¼</span></div>
          <div class="homework-body">
            <div class="homework-content">
              <div class="homework-intro" id="missionIntro">
                <div class="mission-icon">ğŸ¯</div>
                <div class="mission-title">Your Mission</div>
                <div class="mission-prompt" id="missionPrompt">Loading mission...</div>
              </div>
              <div class="mission-options" id="missionOptions">
                <!-- Dynamic mission options will be inserted here -->
              </div>
              <div class="form-group" id="missionWorkArea" style="display:none;">
                <label class="form-label" id="missionWorkLabel">Describe what you created:</label>
                <textarea class="homework-textarea" id="missionWork" placeholder="Tell us about your creation..." rows="4"></textarea>
                <div class="mission-upload" id="missionUpload">
                  <label class="upload-btn">
                    ğŸ“· Add Photo (optional)
                    <input type="file" id="missionPhoto" accept="image/*" style="display:none;" onchange="previewMissionPhoto(this)">
                  </label>
                  <div id="photoPreview"></div>
                </div>
              </div>
              <div class="homework-actions">
                <button class="btn btn-ghost" onclick="resetMission()">â† Back</button>
                <button class="btn btn-success btn-block" id="submitMissionBtn" onclick="submitMission()" style="display:none;">âœ“ Complete Mission</button>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <nav class="bottom-nav">
    <div class="bottom-nav-inner">
      <a href="index.html" class="bottom-nav-item active"><span class="bottom-nav-icon">ğŸ </span><span>Home</span></a>
      <a href="essentials.html" class="bottom-nav-item"><span class="bottom-nav-icon">ğŸ“</span><span>Essentials</span></a>
      <a href="classical_math.html" class="bottom-nav-item"><span class="bottom-nav-icon">ğŸ”¢</span><span>Math</span></a>
      <a href="dashboard.html" class="bottom-nav-item"><span class="bottom-nav-icon">ğŸ“Š</span><span>Progress</span></a>
      <a href="parents-guide.html" class="bottom-nav-item"><span class="bottom-nav-icon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span><span>Parents</span></a>
    </div>
  </nav>

  <div class="toast-container" id="toastContainer"></div>
  <script src="js/app.js"></script>
  <script>
    // Register Service Worker for offline support
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('./sw.js')
          .then(function(reg) { console.log('ğŸ“š ClassicalKid: Offline ready!'); })
          .catch(function(err) { console.log('SW registration failed:', err); });
      });
    }
  </script>
</body>
</html>
